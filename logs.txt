(venv) mohit@mohits-macbook-pro market_research_tool % uvicorn api.server:app --reload
INFO:     Will watch for changes in these directories: ['/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [76425] using WatchFiles

============================================================
ğŸ”§ MARKET INTELLIGENCE AGENT - Environment Status
============================================================
GEMINI_API_KEY:  âœ… SET (AIza...G2xo)
GOOGLE_API_KEY:  âœ… SET (AIza...cuiA)
GOOGLE_CSE_ID:   âœ… SET (e3c0...47d1)
------------------------------------------------------------
ğŸ”Œ RAG Uploader Status
RAG_API_BASE_URL:    https://docser.supervity.ai
RAG_API_TOKEN: âœ… SET (f407...e6ad)
RAG_API_ORG_ID:      2448
============================================================

INFO:     Started server process [76427]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61922 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:61922 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:61950 - "POST /api/research HTTP/1.1" 202 Accepted
Job 578418a0-9445-4803-9557-6d720e609d26: Starting research pipeline...
--- Starting Pipeline for query: 'Show me the latest innovations in Weatherability o...' ---
Phase 1: Generating search queries with Gemini...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
INFO:     127.0.0.1:61950 - "POST /api/research HTTP/1.1" 202 Accepted
Job 9f0fce38-0508-4148-94ba-931aad157ff3: Starting research pipeline...
--- Starting Pipeline for query: 'Show me the latest innovations in Weatherability o...' ---
Phase 1: Generating search queries with Gemini...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Successfully generated and cleaned 46 search queries across 5 buckets.
-> Phase 1 Complete: 46 queries generated across 5 buckets.

Phase 2: Executing 46 searches with Google CSE (parallel with 9 workers)...
  - Completed (3/46): "site:paint.org news scuff-resistant paint technology 2024" [News]
    -> Found 1 URLs
  - Completed (8/46): "site:pcimag.com company news weatherable exterior coatings 2025" [News]
    -> Found 4 URLs
  - Completed (10/46): "site:pcimag.com "new developments" scuff and mar resistance coatings" [News]
    -> No results found
  - Completed (4/46): "site:coatingsworld.com market report architectural coatings 2025" [News]
    -> Found 4 URLs
  - Completed (9/46): "site:coatingsworld.com "sustainability report" industrial coatings 2024 2025" [News]
    -> Found 4 URLs
  - Completed (1/46): "site:coatingsworld.com latest innovations decorative coatings weatherability 2025" [News]
    -> Found 4 URLs
  - Completed (6/46): "site:paint.org industry news sustainability in coatings June 2025" [News]
    -> Found 4 URLs
  - Completed (2/46): "site:pcimag.com 2025 emerging trends sustainable industrial coatings" [News]
    -> Found 4 URLs
  - Completed (7/46): "site:coatingsworld.com emerging technologies scuff resistance industrial finishes" [News]
    -> Found 4 URLs
  - Completed (11/46): "site:pcimag.com patent scuff-resistant coating formulation 2024" [Patents]
    -> Found 4 URLs
  - Completed (12/46): "site:coatingsworld.com "patent application" high weatherability decorative paint" [Patents]
    -> No results found
  - Completed (5/46): "site:pcimag.com new product launch exterior decorative paint 2024" [News]
    -> Found 4 URLs
  - Completed (13/46): "site:pcimag.com new patent sustainable industrial coating technology 2025" [Patents]
    -> Found 4 URLs
  - Completed (15/46): "site:pcimag.com patent filed weatherable polymer for architectural coatings 2024" [Patents]
    -> Found 3 URLs
  - Completed (17/46): "site:pcimag.com patent analysis scuff-proof coatings 2024" [Patents]
    -> Found 4 URLs
  - Completed (18/46): "site:coatingsworld.com "patent granted" durable exterior coating technology" [Patents]
    -> No results found
  - Completed (14/46): "site:coatingsworld.com recent patents scuff resistance OR mar resistance" [Patents]
    -> Found 4 URLs
  - Completed (19/46): "site:coatingsworld.com conference 2025 scuff-resistance coatings presentation" [Conference]
    -> Found 4 URLs
  - Completed (16/46): "site:coatingsworld.com "intellectual property" sustainable binder technology 2025" [Patents]
    -> Found 2 URLs
  - Completed (21/46): "site:paint.org "annual meeting" 2025 agenda sustainability" [Conference]
    -> Found 3 URLs
  - Completed (20/46): "site:pcimag.com "technical conference" proceedings weatherability decorative coatings 2024" [Conference]
    -> Found 1 URLs
  - Completed (22/46): "site:coatingsworld.com webinar "sustainable industrial coatings" 2025" [Conference]
    -> Found 2 URLs
  - Completed (23/46): "site:pcimag.com symposium paper "scuff-resistance testing" methods" [Conference]
    -> No results found
  - Completed (25/46): "site:coatingsworld.com "call for papers" durable coatings conference 2025" [Conference]
    -> Found 4 URLs
  - Completed (26/46): "site:pcimag.com "conference highlights" sustainability in coatings 2024" [Conference]
    -> Found 1 URLs
  - Completed (27/46): "site:paint.org coatings conference 2025 "scuff resistance"" [Conference]
    -> Found 1 URLs
  - Completed (24/46): "site:paint.org conference proceedings weatherability architectural coatings 2024" [Conference]
    -> Found 4 URLs
  - Completed (28/46): "site:paint.org "regulatory update" VOC limits decorative coatings 2025" [Legalnews]
    -> Found 1 URLs
  - Completed (29/46): "site:coatingsworld.com "EPA regulations" industrial coatings 2024 2025" [Legalnews]
    -> No results found
  - Completed (30/46): "site:pcimag.com REACH compliance for coating raw materials 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (31/46): "site:paint.org sustainability regulations impacting paint industry 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (32/46): "site:coatingsworld.com legal news bio-based coatings policy" [Legalnews]
    -> Found 4 URLs
  - Completed (37/46): "site:coatingsworld.com "technical article" sustainable raw materials for industrial coatings 2024" [General]
    -> No results found
  - Completed (34/46): "site:paint.org advocacy "sustainability policy" 2025 update" [Legalnews]
    -> No results found
  - Completed (35/46): "site:coatingsworld.com PFAS regulations impact on industrial coatings 2024" [Legalnews]
    -> Found 4 URLs
  - Completed (33/46): "site:pcimag.com new environmental standards for architectural coatings 2024" [Legalnews]
    -> Found 4 URLs
  - Completed (36/46): "site:pcimag.com improving weatherability of decorative coatings formulation 2025" [General]
    -> Found 4 URLs
  - Completed (38/46): "site:paint.org "testing methods" for scuff-resistance in architectural paint" [General]
    -> Found 1 URLs
  - Completed (39/46): "site:pcimag.com "formulation guide" high-performance exterior coatings 2024" [General]
    -> No results found
  - Completed (40/46): "site:coatingsworld.com bio-based resins for industrial coatings 2025" [General]
    -> Found 4 URLs
  - Completed (43/46): "site:pcimag.com technology review "circular economy" in coatings industry 2025" [General]
    -> Found 4 URLs
  - Completed (41/46): "site:pcimag.com advances in UV absorbers for enhanced weatherability" [General]
    -> Found 3 URLs
  - Completed (42/46): "site:coatingsworld.com understanding mar and scuff resistance mechanisms" [General]
    -> Found 1 URLs
  - Completed (46/46): "site:paint.org "white paper" weatherability performance standards 2024" [General]
    -> No results found
  - Completed (45/46): "site:pcimag.com innovations in additives for scuff-resistant coatings" [General]
    -> Found 4 URLs
  - Completed (44/46): "site:coatingsworld.com durability testing exterior architectural coatings methods" [General]
    -> Found 4 URLs
Successfully collected 108 unique tagged URLs from parallel execution.
-> Phase 2 Complete: 108 URLs collected across buckets.
-> URL Distribution: General=18, News=9, Patents=9, Conference=9, Legalnews=9
-> Report URLs: 18, Extract URLs: 36
Starting parallel synthesis of 2 batches with 6 workers...
    - Batch 0: Synthesizing 15 URLs...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
    - Batch 1: Synthesizing 3 URLs...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Successfully generated and cleaned 54 search queries across 5 buckets.
-> Phase 1 Complete: 54 queries generated across 5 buckets.

Phase 2: Executing 54 searches with Google CSE (parallel with 9 workers)...
  - Completed (5/54): "site:pcimag.com new product "exterior coatings" UV protection advancements 2024-2025" [News]
    -> No results found
  - Completed (6/54): "site:coatingsworld.com "bio-based industrial coatings" recent developments 2025" [News]
    -> No results found
  - Completed (7/54): "site:pcimag.com "product launch" architectural paint scuff resistance" [News]
    -> Found 1 URLs
  - Completed (8/54): "site:paint.org news "sustainable coatings" regulations 2025" [News]
    -> Found 1 URLs
  - Completed (9/54): "site:coatingsworld.com emerging technology in weatherable decorative paints 2024 2025" [News]
    -> No results found
  - Completed (2/54): "site:pcimag.com "sustainability trends" "industrial coatings" 2025" [News]
    -> Found 3 URLs
  - Completed (1/54): "site:coatingsworld.com latest innovations decorative coatings weatherability 2024 2025" [News]
    -> Found 4 URLs
  - Completed (3/54): "site:coatingsworld.com new scuff-resistant architectural coating 2025" [News]
    -> Found 4 URLs
  - Completed (4/54): "site:paint.org 2025 market outlook for durable exterior paints" [News]
    -> Found 4 URLs
  - Completed (14/54): "site:coatingsworld.com recent patent filings weatherable decorative coatings" [Patents]
    -> No results found
  - Completed (12/54): "site:pcimag.com "color retention" technology for exterior decorative paints 2025" [News]
    -> Found 3 URLs
  - Completed (13/54): "site:pcimag.com patent scuff-resistant coating formulation 2024 2025" [Patents]
    -> Found 4 URLs
  - Completed (11/54): "site:coatingsworld.com "waterborne coatings" for industrial applications news 2024 2025" [News]
    -> Found 4 URLs
  - Completed (15/54): "site:pcimag.com new patent UV resistant architectural paint technology" [Patents]
    -> Found 4 URLs
  - Completed (17/54): "site:pcimag.com "patent application" sustainable coating raw materials" [Patents]
    -> No results found
  - Completed (10/54): "site:pcimag.com low-VOC industrial coatings market news 2025" [News]
    -> Found 4 URLs
  - Completed (16/54): "site:coatingsworld.com patent filed "abrasion resistant" industrial coating 2025" [Patents]
    -> No results found
  - Completed (18/54): "site:coatingsworld.com intellectual property "scuff resistance" coatings 2024" [Patents]
    -> No results found
  - Completed (19/54): "site:pcimag.com patent analysis durable exterior architectural coating 2025" [Patents]
    -> Found 4 URLs
  - Completed (25/54): "site:pcimag.com webinar "coating durability" and weatherability 2025" [Conference]
    -> Found 1 URLs
  - Completed (23/54): "site:paint.org "annual meeting" 2025 presentations on sustainability" [Conference]
    -> Found 4 URLs
  - Completed (22/54): "site:coatingsworld.com company patents improving paint durability 2025" [Patents]
    -> Found 4 URLs
  - Completed (27/54): "site:coatingsworld.com "technical conference" presentations on paint weatherability" [Conference]
    -> No results found
  - Completed (24/54): "site:coatingsworld.com conference proceedings scuff resistance coatings 2024" [Conference]
    -> Found 4 URLs
  - Completed (21/54): "site:pcimag.com patent trends "mar resistance" in coatings 2024-2025" [Patents]
    -> No results found
  - Completed (20/54): "site:coatingsworld.com patent granted bio-based resins for coatings 2024" [Patents]
    -> Found 2 URLs
  - Completed (26/54): "site:paint.org "upcoming events" industrial coatings sustainability 2025" [Conference]
    -> Found 4 URLs
  - Completed (32/54): "site:coatingsworld.com industry events "sustainability in coatings" 2025 review" [Conference]
    -> No results found
  - Completed (30/54): "site:pcimag.com technical papers "exterior coatings" conference 2024" [Conference]
    -> Found 4 URLs
  - Completed (31/54): "site:paint.org conference agenda "decorative coatings" innovation 2025" [Conference]
    -> Found 2 URLs
  - Completed (29/54): "site:coatingsworld.com "coatings show" highlights scuff-resistance innovation 2025" [Conference]
    -> No results found
  - Completed (33/54): "site:paint.org new regulations VOC limits decorative paints 2025" [Legalnews]
    -> Found 2 URLs
  - Completed (35/54): "site:pcimag.com "regulatory update" sustainable materials in coatings" [Legalnews]
    -> No results found
  - Completed (34/54): "site:coatingsworld.com EPA regulations industrial coatings 2024-2025" [Legalnews]
    -> Found 1 URLs
  - Completed (28/54): "site:pcimag.com symposium on sustainable coatings technology 2024 2025" [Conference]
    -> Found 4 URLs
  - Completed (36/54): "site:paint.org advocacy update "chemicals of concern" paint industry 2025" [Legalnews]
    -> Found 1 URLs
  - Completed (38/54): "site:pcimag.com "product stewardship" new rules for coatings 2024" [Legalnews]
    -> Found 1 URLs
  - Completed (37/54): "site:coatingsworld.com European chemical regulations impact on coatings 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (40/54): "site:coatingsworld.com compliance standards for bio-based industrial coatings" [Legalnews]
    -> Found 4 URLs
  - Completed (39/54): "site:paint.org legislative report US paint industry 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (43/54): "site:pcimag.com "weatherability testing methods" for architectural coatings 2024" [General]
    -> No results found
  - Completed (42/54): "site:paint.org legal developments architectural coatings 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (44/54): "site:coatingsworld.com "market report" decorative coatings 2025" [General]
    -> Found 1 URLs
  - Completed (45/54): "site:pcimag.com "formulation guide" scuff-resistant interior paint" [General]
    -> No results found
  - Completed (41/54): "site:pcimag.com PFAS restrictions impact on coating formulations 2024 2025" [Legalnews]
    -> Found 4 URLs
  - Completed (50/54): "site:pcimag.com performance comparison "waterborne vs solvent-borne" industrial coatings 2024" [General]
    -> No results found
  - Completed (47/54): "site:pcimag.com technology review "UV absorbers" for exterior paints 2024" [General]
    -> Found 1 URLs
  - Completed (46/54): "site:coatingsworld.com "sustainable raw materials" for industrial coatings 2025" [General]
    -> Found 4 URLs
  - Completed (52/54): "site:pcimag.com improving "mar and scuff resistance" in architectural coatings" [General]
    -> No results found
  - Completed (49/54): "site:paint.org industry data decorative coatings market 2025" [General]
    -> Found 4 URLs
  - Completed (48/54): "site:coatingsworld.com "circular economy" trends coatings industry 2024 2025" [General]
    -> Found 4 URLs
  - Completed (51/54): "site:coatingsworld.com technical article polymer technology for paint durability" [General]
    -> Found 4 URLs
  - Completed (53/54): "site:coatingsworld.com future of powder coatings as a sustainable solution" [General]
    -> Found 4 URLs
  - Completed (54/54): "site:pcimag.com "binders and resins" for high-performance weatherable coatings" [General]
    -> No results found
Successfully collected 107 unique tagged URLs from parallel execution.
-> Phase 2 Complete: 107 URLs collected across buckets.
-> URL Distribution: General=18, News=9, Patents=9, Conference=9, Legalnews=9
-> Report URLs: 18, Extract URLs: 36
Starting parallel synthesis of 2 batches with 6 workers...
    - Batch 0: Synthesizing 15 URLs...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
    - Batch 1: Synthesizing 3 URLs...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
    - Batch 1: sub-report saved â†’ reports/intermediate_reports/20250616_141017_batch1_480acdf2387158aa.md
âœ“ Completed batch 1
    - Batch 0: sub-report saved â†’ reports/intermediate_reports/20250616_141045_batch0_480acdf2387158aa.md
âœ“ Completed batch 0
âœ“ Parallel synthesis completed: 2 batches processed
-> Phase 3 Complete: 2 intermediate reports generated.
-> Starting final report synthesis and data extraction in parallel...

Phase 4: Extracting structured data from 36 URLs in batches...

Phase 5: Generating final report from 2 intermediate documents...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
  Processing batch 1/2 (18 URLs)...
    - Calling Gemini for final synthesis...
    - Extracting from: https://www.pcimag.com/articles/112886-ppg-announces-2025-color-of-the-year-for-glidden-paint
    - Extracting from: https://www.coatingsworld.com/contents/view_breaking-news/2025-05-22/ppg-publishes-2024-sustainability-report-marking-progress-against-2030-targets/
    - Extracting from: https://www.coatingsworld.com/issues/2025-01-01/
    - Extracting from: https://www.pcimag.com/coatings-conference/agenda
    - Extracting from: https://www.coatingsworld.com/contents/view_breaking-news/2024-09-24/dutch-boy-paints-introduces-new-and-improved-platinum-plus/
    - Extracting from: https://www.paint.org/coatingstech-magazine/articles/advantages-of-siloxane-surface-additives-in-low-voc-architectural-coatings/
    - Extracting from: https://www.coatingsworld.com/issues/2025-03-01/view_features/2025-ceo-forum/
    - Extracting from: https://www.coatingsworld.com/contents/viewwebsite/71873
    - Extracting from: https://www.pcimag.com/publications/3/editions/1440
    - Batch 1: sub-report saved â†’ reports/intermediate_reports/20250616_141048_batch1_480acdf2387158aa.md
âœ“ Completed batch 1
      â†’ No JSON array in response for: https://www.coatingsworld.com/contents/viewwebsite/71873
        Response: I am sorry, but I was unable to access the content at the provided URL, https://www.coatingsworld.com/contents/viewwebsite/71873. The website may be behind a paywall, require a login, or have other access restrictions that prevent me from retrieving its content.

Therefore, I cannot perform the requested data extraction. As per the instructions, I am returning an empty array.
    - Extracting from: https://www.pcimag.com/articles/111333-laser-focused-on-sustainability
    - Batch 0: sub-report saved â†’ reports/intermediate_reports/20250616_141104_batch0_480acdf2387158aa.md
âœ“ Completed batch 0
âœ“ Parallel synthesis completed: 2 batches processed
-> Phase 3 Complete: 2 intermediate reports generated.
-> Starting final report synthesis and data extraction in parallel...

Phase 4: Extracting structured data from 36 URLs in batches...

Phase 5: Generating final report from 2 intermediate documents...
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
Both GOOGLE_API_KEY and GEMINI_API_KEY are set. Using GOOGLE_API_KEY.
  Processing batch 1/2 (18 URLs)...
    - Calling Gemini for final synthesis...
Job 9f0fce38-0508-4148-94ba-931aad157ff3: Pipeline failed. Error: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
    - Extracting from: https://www.pcimag.com/articles/111466-vibrantz-invests-20-million-to-increase-production-capacity-of-sustainable-tinting-solution
    - Extracting from: https://www.coatingsworld.com/contents/view_online-exclusives/2025-06-12/akotech-an-innovative-coating-platform-bringing-product-protection-to-the-forefront/
    - Extracting from: https://www.coatingsworld.com/contents/view_online-exclusives/2025-03-19/ai-and-machine-learning-in-coatings-and-ink-formulation/
    - Extracting from: https://www.coatingsworld.com/issues/2024-09-01/view_features/powder-coatings-118628/
    - Extracting from: https://www.pcimag.com/articles/112430-thats-a-wrap-on-the-acs
    - Extracting from: https://www.pcimag.com/publications/3/editions/1439
    - Extracting from: https://www.coatingsworld.com/issues/2023-07-01/view_technical-papers/novel-silica-particle-technology-for-high-durability-matte-wood-coatings/
    - Extracting from: https://www.pcimag.com/coatings-conference/agenda
âœ… Final report saved to reports/20250616_141147_480acdf2387158aa_FINAL_REPORT.md (13,861 chars, 18 references)
      â†’ Error processing https://www.pcimag.com/coatings-conference/agenda: 'NoneType' object is not subscriptable
      â†’ Error processing https://www.pcimag.com/coatings-conference/agenda: 'NoneType' object is not subscriptable
âœ… Final report saved to reports/20250616_141209_480acdf2387158aa_FINAL_REPORT.md (14,105 chars, 18 references)
  Processing batch 2/2 (18 URLs)...
    - Extracting from: https://www.coatingsworld.com/contents/view_top-companies-report/2024-07-23/beckers-group-438559/
    - Extracting from: https://www.paint.org/wp-content/uploads/2024/02/ACA-TR3-2-15-24.pdf
    - Extracting from: https://www.paint.org/coatingstech-magazine/articles/advantages-of-siloxane-surface-additives-in-low-voc-architectural-coatings/
    - Extracting from: https://www.coatingsworld.com/buyersguide/profile/wab-us-corp/view_a-coatings-world-qa-wab-us-corp/
    - Extracting from: https://www.coatingsworld.com/contents/view_breaking-news/2024-08-09/radtech-2025-announces-call-for-papers/
    - Extracting from: https://www.coatingsworld.com/contents/view_breaking-news/2025-06-10/waterborne-symposium-issues-2025-call-for-papers-287298/
    - Extracting from: https://www.paint.org/event/ssct-annual-meeting-and-technology-conference/
    - Extracting from: https://www.paint.org/
    - Extracting from: https://www.paint.org/aca-advocacy/world-coatings-council-update/
    - Extracting from: https://www.pcimag.com/articles/113030-coatings-additives-market-report-eco-friendly-solutions-and-global-demand-fuel-growth
    - Extracting from: https://www.coatingsworld.com/issues/2025-03-01/view_features/2025-ceo-forum/
    - Extracting from: https://www.coatingsworld.com/contents/view_online-exclusives/2024-05-29/radtech-2024-looks-at-bright-future-of-energy-curing/
    - Extracting from: https://www.paint.org/
    - Extracting from: https://www.coatingsworld.com/issues/2025-01-01/view_features/additives-update-336129/
    - Extracting from: https://www.pcimag.com/articles/113471-hexigone-forms-gcc-distribution-partnership-with-alfaa-chem
    - Extracting from: https://www.coatingsworld.com/buyersguide/profile/wanhua-chemical-group-802028/view_coatings-world-suppliers-insights-qa-with-dr-weiqi-hua/
    - Extracting from: https://www.coatingsworld.com/issues/2025-01-01/view_features/pigments-market--536633/
    - Extracting from: https://www.pcimag.com/articles/112266-the-rise-of-water-based-coatings
âœ… Structured extraction saved to extractions/20250616_141411_Show_me_the_latest_innovations_in_Weatherability_o.json
ğŸ“Š 92 items extracted:
   - News: 62
   - Patents: 1
   - Conference: 14
   - Legalnews: 15
--- Pipeline complete in 299.06 seconds ---
Job 578418a0-9445-4803-9557-6d720e609d26: Pipeline completed successfully.
Job 578418a0-9445-4803-9557-6d720e609d26: Starting RAG upload...
--- Starting RAG Upload for Job ID: 578418a0-9445-4803-9557-6d720e609d26 ---
-> RAG: Created collection 'research_job_578418a0_9445_4803_9557_6d720e609d26'.
-> RAG: Updated system prompt for '2448_research_job_578418a0_9445_4803_9557_6d720e609d26'.
-> RAG: Set preprocessing instructions for '2448_research_job_578418a0_9445_4803_9557_6d720e609d26'.
-> RAG: Starting parallel upload of 7 documents...
   â†’ Uploading PDF: intermediate_report_1.pdf (2,862 bytes)
   â†’ Uploading PDF: combined_patents.pdf (2,385 bytes)
   â†’ Uploading PDF: intermediate_report_0.pdf (6,843 bytes)
Task exception was never retrieved
future: <Task finished name='Task-57' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
   â†’ Uploading PDF: final_report.pdf (12,883 bytes)
Task exception was never retrieved
future: <Task finished name='Task-56' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-55' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-54' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-53' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-52' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-51' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-50' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-49' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-48' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-47' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-46' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-45' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-44' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-43' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-42' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
Task exception was never retrieved
future: <Task finished name='Task-41' coro=<extract_data_from_single_url() done, defined at /Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py:43> exception=RuntimeError('<asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop')>
Traceback (most recent call last):
  File "/Users/mohit/Desktop/everything/Supervity/wacker/market_intelligence_agent/market_research_tool/src/phase4_extractor.py", line 48, in extract_data_from_single_url
    async with semaphore:
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 14, in __aenter__
    await self.acquire()
  File "/opt/anaconda3/lib/python3.12/asyncio/locks.py", line 378, in acquire
    fut = self._get_loop().create_future()
          ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/asyncio/mixins.py", line 20, in _get_loop
    raise RuntimeError(f'{self!r} is bound to a different event loop')
RuntimeError: <asyncio.locks.Semaphore object at 0x10619c650 [locked, waiters:8]> is bound to a different event loop
   â†’ Uploading PDF: combined_news.pdf (50,351 bytes)
   âœ… Upload successful: combined_patents
   â†’ Uploading PDF: combined_conference.pdf (12,512 bytes)
   âœ… Upload successful: final_report
   â†’ Uploading PDF: combined_legalnews.pdf (13,013 bytes)
   âœ… Upload successful: intermediate_report_1
   âœ… Upload successful: combined_conference
   âœ… Upload successful: intermediate_report_0
   âœ… Upload successful: combined_legalnews
   âœ… Upload successful: combined_news
--- RAG Upload Complete ---
   Collection: '2448_research_job_578418a0_9445_4803_9557_6d720e609d26'
   Successful uploads: 7
   Failed uploads: 0
   Final report: 1, Intermediate reports: 2, Combined categories: 4
--- Total documents uploaded: 7 ---
Job 578418a0-9445-4803-9557-6d720e609d26: RAG upload successful. Collection: 2448_research_job_578418a0_9445_4803_9557_6d720e609d26
Querying RAG collection '2448_research_job_578418a0_9445_4803_9557_6d720e609d26' with question: 'What are the latest innovations in coating technology?'
INFO:     127.0.0.1:62139 - "POST /api/rag/query HTTP/1.1" 200 OK
